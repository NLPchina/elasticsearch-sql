{
    "from" : 0,
    "size" : 0,
    "_source" : {
        "includes" : [ ],
        "excludes" : [ ]
    },
    "stored_fields" : [
        "a",
        "a2345"
    ],
    "script_fields" : {
        "a2345" : {
            "script" : {
                "inline" : "if((doc['gender'].value=='0')){'aaa'} else {'bbb'}",
                "lang" : "painless"
            },
            "ignore_failure" : false
        }
    },
    "aggregations" : {
        "terms(field=a)" : {
            "terms" : {
                "field" : "a",
                "size" : 10,
                "min_doc_count" : 1,
                "shard_min_doc_count" : 0,
                "show_term_doc_count_error" : false,
                "order" : [
                    {
                        "_count" : "desc"
                    },
                    {
                        "_term" : "asc"
                    }
                ]
            },
            "aggregations" : {
                "a2345" : {
                    "terms" : {
                        "script" : {
                            "inline" : "if((doc['gender'].value=='0')){'aaa'} else {'bbb'}",
                            "lang" : "painless"
                        },
                        "size" : 10,
                        "min_doc_count" : 1,
                        "shard_min_doc_count" : 0,
                        "show_term_doc_count_error" : false,
                        "order" : [
                            {
                                "_count" : "desc"
                            },
                            {
                                "_term" : "asc"
                            }
                        ]
                    },
                    "aggregations" : {
                        "COUNT(c)" : {
                            "value_count" : {
                                "field" : "c"
                            }
                        }
                    }
                }
            }
        }
    }
}